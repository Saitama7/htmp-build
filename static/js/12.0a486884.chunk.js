(this["webpackJsonphtmp-admin-frontend"]=this["webpackJsonphtmp-admin-frontend"]||[]).push([[12],{141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),i=a(17),u=a(167),o=a(271),s=a(158),l=a(265),d=a(227),f=a(266),m=a(228),h=a(210),b=a(229),p=a(59),g=a(135),j=Object(g.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex"},drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},user:{width:230,border:"1px solid #E2E2EA",background:"#FAFAFB",margin:"30px auto",marginBottom:0,borderRadius:15},nav:{textDecoration:"none",color:"#141414",fontSize:14,fontWeight:"bold"},activeLink:{color:e.palette.primary.main}}}));t.default=Object(n.memo)((function(e){var t=j(),a=e.children,g=Object(i.e)(u.b.getAuthUser),v=Object(n.useMemo)((function(){return g&&g.info?g.info:{photo:null,email:"",organization:{name:"Mobird Inc."}}}),[g]);return r.a.createElement("div",{className:t.root},r.a.createElement(o.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper}},r.a.createElement(s.a,null),r.a.createElement("div",{className:t.drawerContainer},r.a.createElement(d.a,{className:t.user},r.a.createElement(m.a,null,r.a.createElement(h.a,{src:v.photo})),r.a.createElement(b.a,{primary:v.email,secondary:v.organization?v.organization.name:"Mobird Inc."})),r.a.createElement(l.a,null,p.a.filter((function(e){return e.sidebar})).map((function(e){return r.a.createElement(c.a,{to:e.path,key:e.path,className:t.nav,activeClassName:t.activeLink},r.a.createElement(d.a,{button:!0},r.a.createElement(f.a,null,r.a.createElement("img",{alt:e.name,src:e.icon,width:"20",height:"20"})),r.a.createElement(b.a,{primary:e.name})))}))))),r.a.createElement("main",{className:t.content},r.a.createElement(s.a,null),a))}))},163:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));a(186);var n=a(48),r=a(30),c=a(270),i=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)((a={},Object(r.a)(a,e,(function(){return!0})),Object(r.a)(a,t,(function(){return!1})),a),n)},u=["REQUEST","SUCCESS","FAIL"];function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if(!e||"string"!==typeof e)throw new Error("type argument is required");var c=t&&t.length>0;return a.reduce((function(a,i,u){return Object(n.a)({},a,Object(r.a)({},"".concat(e,"_").concat(i),c?t[u]:void 0))}),{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.response;return t?t.data||t.statusText:"network error"}},167:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return A})),a.d(t,"b",(function(){return y}));var n=a(169),r=a.n(n),c=a(170),i=a(48),u=a(267),o=a(163),s=a(52),l="/v1/login/",d=Object(u.a)(Object(i.a)({},Object(o.b)("LOGIN")));var f,m=Object(i.a)({},d,{login:function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n,c){var i,u,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.api,a(d.loginRequest()),t.prev=2,t.next=5,i.post(l,e);case 5:return u=t.sent,Object(s.c)(u.data.access),Object(s.b)(u.data.refresh),a(d.loginSuccess(u.data)),t.abrupt("return",u);case 12:return t.prev=12,t.t0=t.catch(2),f=Object(o.c)(t.t0),a(d.loginFail(f||t.t0)),t.abrupt("return",Promise.reject(f));case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n){return t.apply(this,arguments)}}()}}),h=a(30),b=a(32),p=a(273),g=a(270),j=a(14),v=Object(o.a)([Object(p.a)(m.loginRequest)],[Object(p.a)(m.loginSuccess,m.loginFail)]),O=Object(p.a)(m.loginSuccess),E=Object(p.a)(m.loginFail),w=Object(g.a)((f={},Object(h.a)(f,O,(function(e,t){var a=t.payload,n=a.access,r=a.refresh,c=a.user,u=Object(b.a)(a,["access","refresh","user"]);return Object(i.a)({},e,{isAuthenticated:!0,user:Object(i.a)({token:n,refresh:r,info:c},u)})})),Object(h.a)(f,E,(function(e,t){var a=t.payload;return Object(i.a)({},e,{isAuthenticated:!1,user:null,error:a||null})})),f),{isAuthenticated:!1,user:null,error:null}),A=Object(j.c)({data:w,isAuthorizing:v}),y={getAuthStatus:function(e){return!!e.auth&&e.auth.data.isAuthenticated},getAuthError:function(e){return e.auth?e.auth.data.error:null},getAuthUser:function(e){return e.auth?e.auth.data.user:null}}}}]);
//# sourceMappingURL=12.0a486884.chunk.js.map